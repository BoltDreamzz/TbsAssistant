{%extends 'partials/base.html'%}
{%load static%}
{%block content%}
<style>
    .bonanza-badge {
        background: linear-gradient(135deg, #ff6b6b 0%, #ff8e8e 100%);
    }

    .product-card:hover .quick-view {
        opacity: 1;
    }

    .filter-active {
        background-color: #333;
        color: white;
    }

    /* Hide scrollbar but allow scrolling */
    .category-scroll {
        -ms-overflow-style: none;
        /* IE and Edge */
        scrollbar-width: none;
        /* Firefox */
    }

    .category-scroll::-webkit-scrollbar {
        display: none;
        /* Chrome, Safari, Opera */
    }

    .category-item {
        transition: all 0.3s ease;
    }

    .category-item.active {
        color: #000;
        border-color: #000;
    }

    .category-item:hover {
        transform: translateY(-2px);
    }
</style>

<!-- shop/templates/shop/homepage.html -->




<section class="bg-gradient-to-r from-gray-900 to-gray-800 text-white py-8 mb-8">
    <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row items-center justify-between">
            <div class="mb-6 md:mb-0">
                <h2 class="text-2xl md:text-3xl font-bold mb-2">Summer Bonanza Sale!</h2>
                <p class="text-gray-300 mb-4">Up to 40% off on selected premium hair products</p>
                <button
                    class="bg-white text-gray-900 px-6 py-2 rounded-md font-medium hover:bg-gray-100 transition duration-300">
                    Shop Now
                </button>
            </div>
            

            {% if p in product.flash_sale_products.all %}
            <div class="flash-sale-banner">
                </strong> Get {{ product.name }} for â‚¦{{ product.discount_price }}!
            </div>
            <div class="text-center">
                <p class="text-gray-300 mb-2">Hurry! Sale Ends In:</p>
                <div class="flex space-x-3" id="countdown">
                    <div class="bg-white bg-opacity-10 rounded-lg p-2 w-16">
                        <div class="text-2xl font-bold" id="days">00</div>
                        <div class="text-xs text-gray-300">Days</div>
                    </div>
                    <div class="bg-white bg-opacity-10 rounded-lg p-2 w-16">
                        <div class="text-2xl font-bold" id="hours">00</div>
                        <div class="text-xs text-gray-300">Hours</div>
                    </div>
                    <div class="bg-white bg-opacity-10 rounded-lg p-2 w-16">
                        <div class="text-2xl font-bold" id="minutes">00</div>
                        <div class="text-xs text-gray-300">Minutes</div>
                    </div>
                    <div class="bg-white bg-opacity-10 rounded-lg p-2 w-16">
                        <div class="text-2xl font-bold" id="seconds">00</div>
                        <div class="text-xs text-gray-300">Seconds</div>
                    </div>
                </div>
            </div>
            {% endif %}




        </div>
    </div>
</section>
<div class="container flex flex-col">
    <div class="flex items-center justify-center mb-4">
        <h2 class="text-lg badge font-semibold">Shop by Category</h2>
        <!-- <a href="#" class="text-sm text-gray-500 hover:text-gray-700">View All Categories</a> -->
    </div>
    <!-- Category Horizontal Scroll -->
    <div class="mb-8 relative">
        <!-- Shadow indicators for scroll -->
        <div
            class="absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-gray-50 to-transparent z-10 pointer-events-none">
        </div>
        <div
            class="absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-gray-50 to-transparent z-10 pointer-events-none">
        </div>

        <!-- Scrollable container -->
        <div class="category-scroll flex overflow-x-auto py-4 px-2 -mx-2 scroll-smooth">
            <!-- Category Item - All -->
            {%for c in categories%}
            <div class="category-item active flex-shrink-0 mx-2 text-center cursor-pointer" data-category="all">
                <div
                    class="w-16 h-16 mb-2 rounded-full bg-white border-2 border-black flex items-center justify-center mx-auto shadow-sm">
                    <i class="fas fa-th text-xl"></i>
                </div>
                <span class="text-xs font-medium block">{{c.name}}</span>
            </div>
            {%endfor%}

            <!-- Category Item - Shampoo -->
            <div class="category-item flex-shrink-0 mx-2 text-center cursor-pointer" data-category="shampoo">
                <div
                    class="w-16 h-16 mb-2 rounded-full bg-white border-2 border-gray-200 flex items-center justify-center mx-auto shadow-sm">
                    <i class="fas fa-pump-soap text-xl"></i>
                </div>
                <span class="text-xs font-medium block">Shampoo</span>
            </div>

            <!-- Category Item - Conditioner -->
            <div class="category-item flex-shrink-0 mx-2 text-center cursor-pointer" data-category="conditioner">
                <div
                    class="w-16 h-16 mb-2 rounded-full bg-white border-2 border-gray-200 flex items-center justify-center mx-auto shadow-sm">
                    <i class="fas fa-shower text-xl"></i>
                </div>
                <span class="text-xs font-medium block">Conditioner</span>
            </div>

            <!-- Category Item - Oil -->
            <div class="category-item flex-shrink-0 mx-2 text-center cursor-pointer" data-category="oil">
                <div
                    class="w-16 h-16 mb-2 rounded-full bg-white border-2 border-gray-200 flex items-center justify-center mx-auto shadow-sm">
                    <i class="fas fa-tint text-xl"></i>
                </div>
                <span class="text-xs font-medium block">Oil</span>
            </div>

            <!-- Category Item - Treatment -->
            <div class="category-item flex-shrink-0 mx-2 text-center cursor-pointer" data-category="treatment">
                <div
                    class="w-16 h-16 mb-2 rounded-full bg-white border-2 border-gray-200 flex items-center justify-center mx-auto shadow-sm">
                    <i class="fas fa-magic text-xl"></i>
                </div>
                <span class="text-xs font-medium block">Treatment</span>
            </div>

            <!-- Category Item - Styling -->
            <div class="category-item flex-shrink-0 mx-2 text-center cursor-pointer" data-category="styling">
                <div
                    class="w-16 h-16 mb-2 rounded-full bg-white border-2 border-gray-200 flex items-center justify-center mx-auto shadow-sm">
                    <i class="fas fa-wind text-xl"></i>
                </div>
                <span class="text-xs font-medium block">Styling</span>
            </div>

            <!-- Category Item - Tools -->
            <div class="category-item flex-shrink-0 mx-2 text-center cursor-pointer" data-category="tools">
                <div
                    class="w-16 h-16 mb-2 rounded-full bg-white border-2 border-gray-200 flex items-center justify-center mx-auto shadow-sm">
                    <i class="fas fa-cut text-xl"></i>
                </div>
                <span class="text-xs font-medium block">Tools</span>
            </div>

            <!-- Category Item - Bundles -->
            <div class="category-item flex-shrink-0 mx-2 text-center cursor-pointer" data-category="bundles">
                <div
                    class="w-16 h-16 mb-2 rounded-full bg-white border-2 border-gray-200 flex items-center justify-center mx-auto shadow-sm">
                    <i class="fas fa-gift text-xl"></i>
                </div>
                <span class="text-xs font-medium block">Bundles</span>
            </div>

            <!-- Category Item - New -->
            <div class="category-item flex-shrink-0 mx-2 text-center cursor-pointer" data-category="new">
                <div
                    class="w-16 h-16 mb-2 rounded-full bg-white border-2 border-gray-200 flex items-center justify-center mx-auto shadow-sm">
                    <i class="fas fa-star text-xl"></i>
                </div>
                <span class="text-xs font-medium block">New</span>
            </div>

            <!-- Category Item - Sale -->
            <div class="category-item flex-shrink-0 mx-2 text-center cursor-pointer" data-category="sale">
                <div
                    class="w-16 h-16 mb-2 rounded-full bg-white border-2 border-gray-200 flex items-center justify-center mx-auto shadow-sm">
                    <i class="fas fa-tag text-xl"></i>
                </div>
                <span class="text-xs font-medium block">Sale</span>
            </div>
        </div>
    </div>
</div>

<!-- Main Content -->
<main class="container flex flex-col mx-auto px-4 pb-16">
    <!-- Filter and Sort Controls -->
    <div class="flex items-center justify-center mb-4">
        <h2 class="text-lg font-semibold badge">Recommended products</h2>
        <!-- <a href="#" class="text-sm text-gray-500 hover:text-gray-700">View All Categories</a> -->
    </div>

    <!-- Product Grid -->
    <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6">
        <!-- Product 1 - Bonanza Item -->
        {%for p in products%}
        <div class="product-card bg-white rounded-lg shadow-sm overflow-hidden relative" data-category="shampoo"
            data-price="24.99" data-popularity="95">
            {%if p.is_flash_sale_active%}
            <div class="bonanza-badge absolute top-3 left-3 text-white text-xs font-bold px-2 py-1 rounded-full z-10">
                BONANZA
            </div>
            {%endif%}
            <div class="relative">
                <img src="{{p.image.url}}" alt="{{p.name}}" class="w-full h-64 object-cover">
                <a href="{%url 'shop:product_detail' p.id%}"
                    class="quick-view opacity-0 absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center transition-opacity duration-300">
                    <button class="bg-white text-gray-900 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-100">
                        Quick View
                    </button>
                </a>
            </div>
            <div class="p-4">
                <h3 class="text-gray-700 font-medium mb-1">{{p.name}}</h3>
              
                <div class="flex justify-between items-center">
                    <div>
                        <span class="text-gray-900 font-bold">${{p.discount_price}}</span>
                        <span class="ml-2 text-sm text-gray-500 line-through">{{p.normal_price}}</span>
                    </div>
                    <button
                        class="bg-gray-900 text-white p-2 rounded-full hover:bg-gray-800 transition-colors duration-300">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5"
                            stroke="currentColor" class="size-3">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
                        </svg>

                    </button>
                </div>
            </div>
        </div>
        {%endfor%}


    </div>

    <!-- Load More Button -->
    <div class="flex justify-center mt-12">
        <button
            class="bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-md font-medium hover:bg-gray-50 transition-colors duration-300">
            Load More Products
        </button>
    </div>
</main>

{%endblock%}